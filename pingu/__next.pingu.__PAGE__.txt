1:"$Sreact.fragment"
16:I[97367,["/sandbox/_next/static/chunks/2f236954d6a65e12.js"],"OutletBoundary"]
17:"$Sreact.suspense"
:HL["/sandbox/spleeter.png","image"]
:HL["/sandbox/_next/static/chunks/0918b76712679407.css","style"]
:HL["/sandbox/_next/static/chunks/ad663930e793235e.css","style"]
0:{"buildId":"_eEazuZPsly_rnvkj7PBg","rsc":["$","$1","c",{"children":[[["$","style",null,{"children":"\n        .page-main {\n          box-sizing: border-box;\n          background-color: #212121;\n          min-height: 100vh;\n          color: #ededed;\n          padding: 2rem 1.25rem;\n        }\n\n        .content-wrapper {\n          max-width: 860px;\n          margin: 0 auto;\n          width: 100%;\n        }\n\n        .fractal-image {\n          width: 100%;\n          max-width: 750px;\n          height: auto;\n          margin-top: 20px;\n          display: block;\n        }\n\n        @media (min-width: 640px) {\n          .page-main {\n            padding: 3rem 2rem;\n          }\n        }\n\n        @media (min-width: 1024px) {\n          .page-main {\n            padding: 4rem;\n          }\n        }\n      "}],["$","main",null,{"className":"page-main","children":["$","div",null,{"className":"content-wrapper","children":[["$","h2",null,{"children":"Building Pingu"}],["$","p",null,{"children":"I'm at one of those weird stages of life‚Ä¶ a kind of liminal space, of sorts? I don't want time to rid me of the random things I remember, so this page has been a way for me to \"knowledge dump\" while practicing translating ideas into words concisely and comprehensively - something I think I'm going to need to have down solid very soon."}],["$","p",null,{"children":"So, let's quickly walk through a little trinket I made for my friends and I: Pingu! üêß"}],["$","p",null,{"children":"I used to be a coverist, and so I wanted to spin up something small that could serve as a tool for all things musical and k-pop. For this project, I heavily prioritized tasks that weren‚Äôt just wrappers for an LLM, and I honestly really don‚Äôt like using generative techniques unless painfully necessary. This did mean that run-times wouldn‚Äôt be the fastest, but we were fine with that!"}],["$","p",null,{"children":["$","em",null,{"children":"Disclaimer: None of the artifacts from the following methods were used for commercial purposes; this was solely for personal use! Additionally, I won't really discuss code specifics, but rather important design choices."}]}],["$","h3",null,{"children":"Base Setup"}],["$","p",null,{"children":["From what I've seen, JavaScript and Python are the most common languages for setting up Discord bots. I used the"," ",["$","code",null,{"children":"discord.py"}]," library here; in general, Python is my choice for smaller, experimental projects. I also wanted to utilize Discord's established slash command structure, as many of the bot's functions require parameters, and it should be clear to the user what those parameters are."]}],["$","h4",null,{"children":"A Note on Environment Variables"}],["$","p",null,{"children":["Traditionally, if I'm working on a project that will only be stored locally (not pushed to a cloud environment like GitHub), I don't always bother concealing them - though this isn't a good habit! Environment variables are things like user IDs, bot tokens, or API keys obtained through paid subscriptions. In general, they are supposed to be private and just for you. However, if you are looking to host your bot on a platform like Heroku, you should definitely have a ",["$","code",null,{"children":".env"}]," system set up to load variables from."]}],["$","h4",null,{"children":"Roles"}],["$","p",null,{"children":"In the Discord Developer settings, there is a bot access role for applications. If you must select permissions manually, I generally recommend:"}],["$","ul",null,{"children":[["$","li",null,{"children":"Channel read/write access"}],"$L2","$L3"]}],"$L4","$L5","$L6","$L7","$L8","$L9","$La","$Lb","$Lc","$Ld","$Le","$Lf","$L10","$L11","$L12"]}]}]],["$L13","$L14"],"$L15"]}],"loading":null,"isPartial":false}
2:["$","li",null,{"children":"Access to see user IDs (to identify who sent a message)"}]
3:["$","li",null,{"children":"Permission for embeds, pings, and reaction roles"}]
4:["$","p",null,{"children":"You can also limit the bot's activity later through a custom role within your server, allowing it to only access specific channels."}]
5:["$","h3",null,{"children":"Pinterest Scraper"}]
6:["$","p",null,{"children":"This feature, while not strictly necessary, takes inspiration from anime bots like Mudae and K-pop photocard collection bots like Gyuvin. I wanted an easy way to search for photos right in the chat, just as you can with GIFs."}]
7:["$","p",null,{"children":"I used Selenium and Beautiful Soup to act as a client that executes the search and returns the most relevant results. Web scraping is an automated process that crawls through a website to read its content using the native HTML structure - a process often used in screen readers and other accessibility tools."}]
8:["$","p",null,{"children":"The search query is executed based on this URL structure:"}]
9:["$","pre",null,{"style":{"backgroundColor":"#1e1e1e","border":"1px solid #333","borderRadius":"8px","padding":"1.25rem 1.5rem","overflowX":"auto","fontFamily":"'Fira Code', 'Courier New', monospace","fontSize":"0.875rem","lineHeight":"1.6","color":"#cdd6f4","margin":"1rem 0"},"children":["$","code",null,{"children":"url = f'https://www.pinterest.com/search/pins/?q={search_query}'"}]}]
a:["$","p",null,{"children":["The client looks for web components with an ",["$","code",null,{"children":"<img>"}]," ","tag, performs a quick size check (",["$","span",null,{"data-testid":"react-katex","dangerouslySetInnerHTML":{"__html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>150</mn><mo>√ó</mo><mn>150</mn></mrow><annotation encoding=\"application/x-tex\">150 \\times 150</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">150</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">√ó</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">150</span></span></span></span>"}}],"), and we're on our way! The client pulls the first 100 results and picks a random one to send back to the chat; that way, there's some variety even if the same search query (or idol) is entered multiple times. I also ensured that multi-word keywords are automatically parsed to format the query effectively."]}]
b:["$","h3",null,{"children":"YouTube to MP3"}]
c:["$","p",null,{"children":"This is one of the most annoying hurdles for coverists: the first step in making a backing track or instrumental is getting access to the audio file. Since we aren't doing this commercially, this usually involves hunting for a website that can extract the audio. However, YouTube has increased its security measures over the years, taking many sites down, while others are simply plagued with ads."}]
d:["$","p",null,{"children":["The most reliable way to maintain a long-lasting video-to-audio tool is to use command-line tools. I used the ",["$","code",null,{"children":"yt_dlp"}]," ","library. It works similarly to the Pinterest scraper: the user provides the link (",["$","code",null,{"children":"url"}],") and the desired filename (",["$","code",null,{"children":"name"}],"). These are formatted into a JSON-like configuration to run a download query."]}]
e:["$","pre",null,{"style":{"backgroundColor":"#1e1e1e","border":"1px solid #333","borderRadius":"8px","padding":"1.25rem 1.5rem","overflowX":"auto","fontFamily":"'Fira Code', 'Courier New', monospace","fontSize":"0.875rem","lineHeight":"1.6","color":"#cdd6f4","margin":"1rem 0"},"children":["$","code",null,{"children":"ydl_opts = {\n        'format': 'bestaudio/best',\n        'noplaylist': True,\n        'user_agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',\n        'postprocessors': [{\n            'key': 'FFmpegExtractAudio',\n            'preferredcodec': 'mp3',\n            'preferredquality': '192',\n        }],\n        'outtmpl': f'{name}.%(ext)s'\n    }\n\ndef do_download():\n    with yt_dlp.YoutubeDL(ydl_opts) as ydl:\n        ydl.download([url])"}]}]
f:["$","h3",null,{"children":"Vocal Remover"}]
10:["$","p",null,{"children":"Finally, I used the Spleeter library released by Deezer (pre-trained in TensorFlow). The user provides an audio file (or can continue with the one generated in the previous step) to receive vocal and instrumental stems. This reduces dependency on third-party tools like BandLab's splitter and keeps the workflow right inside Discord."}]
11:["$","p",null,{"children":"And that's it! üêß"}]
12:["$","img",null,{"src":"/sandbox/spleeter.png","alt":"pingu when it's done splitting an audio into vocal and instrumental stems","className":"fractal-image"}]
13:["$","link","0",{"rel":"stylesheet","href":"/sandbox/_next/static/chunks/0918b76712679407.css","precedence":"next"}]
14:["$","link","1",{"rel":"stylesheet","href":"/sandbox/_next/static/chunks/ad663930e793235e.css","precedence":"next"}]
15:["$","$L16",null,{"children":["$","$17",null,{"name":"Next.MetadataOutlet","children":"$@18"}]}]
18:null
